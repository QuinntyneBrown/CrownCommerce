@if (loading()) {
  <div class="category-page__loading">
    <lib-loading-spinner />
  </div>
} @else if (error()) {
  <div class="category-page__error">
    <lib-error-state [message]="error()!" />
  </div>
} @else {
  <section class="category-page__hero">
    <span class="category-page__label">COLLECTION</span>
    <h1 class="category-page__title">Lace Closures</h1>
    <p class="category-page__subtitle">
      Seamless lace closures for a natural-looking part. Available in 4x4 and 5x5 sizes.
    </p>
    <div class="category-page__filters">
      @for (filter of filters; track filter) {
        <lib-filter-chip
          [label]="filter"
          [selected]="activeFilter() === filter"
          (toggle)="filterBy(filter)"
        />
      }
    </div>
  </section>

  <section class="category-page__grid">
    @for (product of filteredProducts(); track product.id) {
      <lib-product-card
        [imageUrl]="product.imageUrl ?? ''"
        [title]="product.name"
        [price]="'From $' + product.price"
        [showShopButton]="true"
        (click)="navigateToProduct(product)"
      />
    }
  </section>
}
